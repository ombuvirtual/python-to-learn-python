
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Invoking Python &#8212; Python to learn Python 0 documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Program structure" href="structure.html" />
    <link rel="prev" title="Minimal Python" href="minimal.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="invoking-python">
<h1>Invoking Python<a class="headerlink" href="#invoking-python" title="Permalink to this headline">¶</a></h1>
<div class="section" id="running-a-script-file">
<h2>Running a script file<a class="headerlink" href="#running-a-script-file" title="Permalink to this headline">¶</a></h2>
<p>If your source code is contained in a file you can run it by passing
its file name as an argument to the <code class="docutils literal notranslate"><span class="pre">python</span></code> command. For example,
suppose you have a script named <code class="docutils literal notranslate"><span class="pre">myscript.py</span></code>, to run it you enter
<code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">myscript.py</span></code> in the command line and press enter.</p>
<p>Let’s create a simple script named <code class="docutils literal notranslate"><span class="pre">myscript.py</span></code> with a single
line of Python code that issues a call to the built-in function
<code class="docutils literal notranslate"><span class="pre">print()</span></code> to print a string to <code class="docutils literal notranslate"><span class="pre">stdout</span></code> and let’s run it by
passing its file name as an argument to the <code class="docutils literal notranslate"><span class="pre">python</span></code> command. The
following shell commands accomplish these tasks,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># create myscript.py file and add a line</span>
<span class="c1"># of Python code to print a string</span>
<span class="n">echo</span> <span class="s1">&#39;print(&quot;invoked with script filename&quot;)&#39;</span> <span class="o">&gt;</span> <span class="n">myscript</span><span class="o">.</span><span class="n">py</span>

<span class="c1"># print line number</span>
<span class="n">echo</span> <span class="s2">&quot;$LINENO&quot;</span>

<span class="c1"># run script by passing its filename</span>
<span class="c1"># as an argument to python command</span>
<span class="n">python</span> <span class="n">myscript</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>If your script accepts <em>command line arguments</em> you need to be able
to do two things:</p>
<ul class="simple">
<li><p>pass the arguments to your script when you run it</p></li>
<li><p>access the arguments from within your source code</p></li>
</ul>
<p>Suppose the script <code class="docutils literal notranslate"><span class="pre">myscript.py</span></code> takes two command line arguments,
<code class="docutils literal notranslate"><span class="pre">foo</span></code> and <code class="docutils literal notranslate"><span class="pre">bar</span></code>.  You can pass these arguments to
<code class="docutils literal notranslate"><span class="pre">myscript.py</span></code> using the following command: <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">myscript.py</span>
<span class="pre">foo</span> <span class="pre">bar</span></code>. That is, you pass any arguments to a script by placing
the arguments in the right order after the script’s file name in the
<code class="docutils literal notranslate"><span class="pre">python</span></code> command.</p>
<p>To give your source code access to command line arguments Python
makes them available in a list object named <code class="docutils literal notranslate"><span class="pre">argv</span></code>. Individual
elements in <code class="docutils literal notranslate"><span class="pre">argv</span></code> are accessed using their index in the list,
starting at index 0. For instance, to reference an element with
index <code class="docutils literal notranslate"><span class="pre">i</span></code> you apply the <em>index operator</em> <code class="docutils literal notranslate"><span class="pre">[i]</span></code> to list <code class="docutils literal notranslate"><span class="pre">argv</span></code>
by writing <code class="docutils literal notranslate"><span class="pre">argv[i]</span></code>. Therefore, the first element in <code class="docutils literal notranslate"><span class="pre">argv</span></code> is
<code class="docutils literal notranslate"><span class="pre">argv[0]</span></code>, the second is <code class="docutils literal notranslate"><span class="pre">argv[1]</span></code> and so on.</p>
<p>The first element <code class="docutils literal notranslate"><span class="pre">argv[0]</span></code> is special. It contains the name of
the script, including its path as specified at invocation.
Therefore, <code class="docutils literal notranslate"><span class="pre">argv[0]</span></code> always exists and <code class="docutils literal notranslate"><span class="pre">argv</span></code> always contains at
least one element. The rest of the list contains the <em>actual</em>
command line arguments if any were passed to the script. The first
argument is <code class="docutils literal notranslate"><span class="pre">argv[1]</span></code>, the second <code class="docutils literal notranslate"><span class="pre">argv[2]</span></code> and so on.  The
total number of actual arguments is, therefore, given by the total
number of elements in <code class="docutils literal notranslate"><span class="pre">argv</span></code> minus 1 to exclude <code class="docutils literal notranslate"><span class="pre">argv[0]</span></code>. In
Python the number of elements in any list is obtained using the
built-in function <code class="docutils literal notranslate"><span class="pre">len()</span></code>, so the number of arguments passed in
argv is given by <code class="docutils literal notranslate"><span class="pre">len(argv)</span> <span class="pre">-</span> <span class="pre">1</span></code>.</p>
<p>The list <code class="docutils literal notranslate"><span class="pre">argv</span></code> is <em>not</em> directly accessible. It is contained in a
module named <code class="docutils literal notranslate"><span class="pre">sys</span></code> that is part of the Python Standard
Library. You need to explicitly load module <code class="docutils literal notranslate"><span class="pre">sys</span></code> in your script
using the <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">sys</span></code> statement. You can reference <code class="docutils literal notranslate"><span class="pre">argv</span></code> at
any point in your source code <em>after</em> importing module <code class="docutils literal notranslate"><span class="pre">sys</span></code> by
writing <code class="docutils literal notranslate"><span class="pre">sys.argv</span></code> and a specific argument at index <code class="docutils literal notranslate"><span class="pre">i</span></code> by
writing <code class="docutils literal notranslate"><span class="pre">sys.argv[i]</span></code>.</p>
<p>The following shell commands create a script named <code class="docutils literal notranslate"><span class="pre">myscript.py</span></code>
and adds three Python statements. The first imports the <code class="docutils literal notranslate"><span class="pre">sys</span></code>
module to gain access to <code class="docutils literal notranslate"><span class="pre">argv</span></code>.  The second prints the name of
the script by referencing <code class="docutils literal notranslate"><span class="pre">sys.argv[0]</span></code> The third prints arguments
1 and 2 by referencing <code class="docutils literal notranslate"><span class="pre">sys.argv[1]</span></code> and <code class="docutils literal notranslate"><span class="pre">sys.argv[2]</span></code>. The
script is then run with command line arguments <code class="docutils literal notranslate"><span class="pre">foo</span></code> and <code class="docutils literal notranslate"><span class="pre">bar</span></code>,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># create myscript.py file and add a line</span>
<span class="c1"># of Python code to import sys module</span>
<span class="n">echo</span> <span class="s1">&#39;import sys&#39;</span> <span class="o">&gt;</span> <span class="n">myscript</span><span class="o">.</span><span class="n">py</span>

<span class="c1"># add a line of code to print sys.argv[0],</span>
<span class="c1"># the name of the script</span>
<span class="n">echo</span> <span class="s1">&#39;print(&quot;script name:&quot;, sys.argv[0])&#39;</span> <span class="o">&gt;&gt;</span> <span class="n">myscript</span><span class="o">.</span><span class="n">py</span>

<span class="c1"># add a line of code to print sys.argv[1] and sys.argv[2]</span>
<span class="c1"># containing the first and second command line arguments</span>
<span class="n">echo</span> <span class="s1">&#39;print(&quot;arguments:&quot;, sys.argv[1], sys.argv[2])&#39;</span> <span class="o">&gt;&gt;</span> <span class="n">myscript</span><span class="o">.</span><span class="n">py</span>

<span class="c1"># print line number</span>
<span class="n">echo</span> <span class="s2">&quot;$LINENO&quot;</span>

<span class="c1"># invoke python to run myscript.py</span>
<span class="c1"># with arguments foo and bar</span>
<span class="n">python</span> <span class="n">myscript</span><span class="o">.</span><span class="n">py</span> <span class="s2">&quot;foo&quot;</span> <span class="s2">&quot;bar&quot;</span>
</pre></div>
</div>
<p>Accessing an argument by directly using its index into <code class="docutils literal notranslate"><span class="pre">argv</span></code> can
fail if there is no argument with that index. Next we invoke
<code class="docutils literal notranslate"><span class="pre">myscript.py</span></code> as defined above but this time <em>without</em> passing the
arguments <code class="docutils literal notranslate"><span class="pre">foo</span></code> and <code class="docutils literal notranslate"><span class="pre">bar</span></code> that it expects,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># print line number</span>
<span class="n">echo</span> <span class="s2">&quot;$LINENO&quot;</span>

<span class="c1"># run myscript.py without expected arguments</span>
<span class="n">python</span> <span class="n">myscript</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>When the script runs the print statement references <code class="docutils literal notranslate"><span class="pre">sys.argv[1]</span></code>
but since there is no argument at index 1 the interpreter issues the
error <code class="docutils literal notranslate"><span class="pre">&quot;IndexError:</span> <span class="pre">list</span> <span class="pre">index</span> <span class="pre">out</span> <span class="pre">of</span> <span class="pre">range&quot;</span></code> and stops the
execution of the script. We cover accessing program arguments in
later scripts but we’ll finish this section by showing how using
Python’s <code class="docutils literal notranslate"><span class="pre">for</span></code> statement avoids this problem.</p>
<p>Consider the following example of using Python’s for statement:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">for</span></code> statement above iterates over the items in sys.argv and
at the beginning of each iteration it assigns the next item in the
list to the loop variable <code class="docutils literal notranslate"><span class="pre">item</span></code>. Normally, the statements to be
executed at each iteration are placed after the line containing the
<code class="docutils literal notranslate"><span class="pre">for</span></code> clause. In this case there is only one statement, the call
to the <code class="docutils literal notranslate"><span class="pre">print()</span></code> function, so it can be placed in the same line as
the <code class="docutils literal notranslate"><span class="pre">for</span></code> clause after the colon <code class="docutils literal notranslate"><span class="pre">:</span></code>.</p>
<p>In the following example we create a new version of <code class="docutils literal notranslate"><span class="pre">myscript.py</span></code>
that prints each argument in <code class="docutils literal notranslate"><span class="pre">argv</span></code> using the Python statement
above,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># create myscript.py file and add import statement</span>
<span class="n">echo</span> <span class="s1">&#39;import sys&#39;</span> <span class="o">&gt;</span> <span class="n">myscript</span><span class="o">.</span><span class="n">py</span>

<span class="c1"># add &#39;for&#39; statement to print arguments safely</span>
<span class="n">echo</span> <span class="s1">&#39;for item in sys.argv: print(item)&#39;</span> <span class="o">&gt;&gt;</span> <span class="n">myscript</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>When you invoke <code class="docutils literal notranslate"><span class="pre">myscript.py</span></code> with the two arguments <code class="docutils literal notranslate"><span class="pre">foo</span></code> and
<code class="docutils literal notranslate"><span class="pre">bar</span></code>, it first prints the name of the script in <code class="docutils literal notranslate"><span class="pre">sys.argv[0]</span></code>
and then the two arguments in <code class="docutils literal notranslate"><span class="pre">argv[1]</span></code> and <code class="docutils literal notranslate"><span class="pre">argv[2]</span></code>,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># print line number</span>
<span class="n">echo</span> <span class="s2">&quot;$LINENO&quot;</span>

<span class="c1"># invoke myscript.py with arguments</span>
<span class="n">python</span> <span class="n">myscript</span><span class="o">.</span><span class="n">py</span> <span class="s2">&quot;foo&quot;</span> <span class="s2">&quot;bar&quot;</span>
</pre></div>
</div>
<p>Now let’s invoke <code class="docutils literal notranslate"><span class="pre">myscript.py</span></code> <em>without</em> any arguments,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># invoke myscript.py without arguments</span>
<span class="n">python</span> <span class="n">myscript</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>In this case <code class="docutils literal notranslate"><span class="pre">myscript.py</span></code> does not fail as before because the
<code class="docutils literal notranslate"><span class="pre">for</span></code> statement only executes the line of code with the
<code class="docutils literal notranslate"><span class="pre">print()</span></code> function if there is at least one more item in <code class="docutils literal notranslate"><span class="pre">argv</span></code>.</p>
</div>
<div class="section" id="running-script-as-a-shell-command">
<h2>Running script as a shell command<a class="headerlink" href="#running-script-as-a-shell-command" title="Permalink to this headline">¶</a></h2>
<p>In GNU/Linux systems it is possible to run a Python script as a <em>shell
command</em>. This means you can run the script by entering its name
directly on the command line without having to explicitly invoke the
<code class="docutils literal notranslate"><span class="pre">python</span></code> command or specify the path of the script.</p>
<p>To be able to invoke your script as a shell command you need to
follow these steps:</p>
<ul class="simple">
<li><p>Start the first line of your script with the ‘magic’ characters
<code class="docutils literal notranslate"><span class="pre">#!</span></code>, followed by the path of the Python interpreter you want to
invoke to run the script. The rest of the file contains your
Python source code.</p></li>
<li><p>Make the script file <em>executable</em> using the shell command <code class="docutils literal notranslate"><span class="pre">chmod</span></code>.</p></li>
<li><p>Place your script file in a directory that is in the shell’s
<em>command search path</em>. This step enables you to run the script from
anywhere in the filesystem without having to specify its path.</p></li>
</ul>
<p>The following example creates a script named <code class="docutils literal notranslate"><span class="pre">myscript.sh</span></code>. The
first line of the script starts with the magic characters <code class="docutils literal notranslate"><span class="pre">#!</span></code>
followed by the path <code class="docutils literal notranslate"><span class="pre">/usr/bin/python</span></code>, the path of the
interpreter that will be invoked by the system to run the source
code. In this simple example the source code consists of a single
line of code, a call to the Python built-in function <code class="docutils literal notranslate"><span class="pre">print()</span></code> to
print the string <code class="docutils literal notranslate"><span class="pre">&quot;invoked</span> <span class="pre">as</span> <span class="pre">a</span> <span class="pre">shell</span> <span class="pre">command&quot;</span></code>,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># create myscript.sh file starting first line with &#39;#!&#39; to tell</span>
<span class="c1"># the system which interpreter to invoke to run the source code</span>
<span class="n">echo</span> <span class="s2">&quot;#! /usr/bin/python&quot;</span> <span class="o">&gt;</span> <span class="n">myscript</span><span class="o">.</span><span class="n">sh</span>

<span class="c1"># add one line of Python code to print a string</span>
<span class="n">echo</span> <span class="s1">&#39;print(&quot;invoked as a shell command&quot;)&#39;</span> <span class="o">&gt;&gt;</span> <span class="n">myscript</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
<p>We now have a script with the appropriate first line to invoke the
Python interpreter. However, to run it as a shell command we must
first make the script file executable. We can do that using the
shell command <code class="docutils literal notranslate"><span class="pre">chmod</span></code>, as showing in the following snippet,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># make script file executable</span>
<span class="n">chmod</span> <span class="n">u</span><span class="o">+</span><span class="n">x</span> <span class="n">myscript</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
<p>We can now run <code class="docutils literal notranslate"><span class="pre">myscript.sh</span></code> by specifying its path but without
having to explicitly invoke the Python interpreter. If the script is
located in our current working directory then we can run it by
entering its path <code class="docutils literal notranslate"><span class="pre">./myscript.sh</span></code> in the command line and pressing
enter,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># print line number</span>
<span class="n">echo</span> <span class="s2">&quot;$LINENO&quot;</span>

<span class="c1"># run script in current working directory</span>
<span class="o">./</span><span class="n">myscript</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
<p>To be able to run the script without having to specify its path you
have to place it in a directory that is in the shell’s command
search path. If you want to make the script accessible system wide,
a good location is <code class="docutils literal notranslate"><span class="pre">/usr/local/bin</span></code>. In some GNU/Linux systems you
can create a bin directory just under your home directory,
<code class="docutils literal notranslate"><span class="pre">~/bin</span></code>. Placing your script in your <code class="docutils literal notranslate"><span class="pre">~/bin</span></code> directory makes it
accessible only to you. Wherever you place your script, as long as
it’s in the shell’s command search path, you’ll be able to run it
from anywhere in the filesystem by simply entering its name in the
command line.</p>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">Python to learn Python</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="minimal.html">Minimal Python</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Invoking Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="structure.html">Program structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="statements.html">Python statements</a></li>
<li class="toctree-l1"><a class="reference internal" href="datatypes.html">Python data types</a></li>
<li class="toctree-l1"><a class="reference internal" href="type_list.html">The <code class="docutils literal notranslate"><span class="pre">list</span></code> data type</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="minimal.html" title="previous chapter">Minimal Python</a></li>
      <li>Next: <a href="structure.html" title="next chapter">Program structure</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, Ombuvirtual.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.2.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/rst/invoke.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>